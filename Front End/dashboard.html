<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chat Dashboard</title>
</head>
<body>
  <h2>Chat App Dashboard</h2>

  <!-- Messages will appear here -->
  <div id="chatMessages"></div>

  <!-- Input + Send button -->
  <form onsubmit="sendMessage(event)">
    <input type="text" id="messageInput" placeholder="Type a message..." required>
    <button type="submit">Send</button>
  </form>

  <!-- Axios -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    function sendMessage(event) {
      event.preventDefault();

      const input = document.getElementById("messageInput");
      const message = input.value.trim();
      if (message === "") return;

      // Axios POST request to backend
      axios.post("http://localhost:3000/chat/send", { message })
        .then(response => {
          // Show backend response in chat
          const chatMessages = document.getElementById("chatMessages");
          const msgDiv = document.createElement("div");
          msgDiv.textContent = "You: " + message;
          chatMessages.appendChild(msgDiv);

          // Clear input
          input.value = "";
        })
        .catch(error => {
          console.error("Error sending message:", error);
          alert("Failed to send message");
        });
    }
  </script>
</body>
</html>